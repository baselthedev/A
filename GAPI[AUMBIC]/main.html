<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>View Text Files from Google Drive</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        pre {
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>View Text Files from Google Drive</h1>

    <!-- List of available text files -->
    <select id="file-list"></select>

    <pre id="file-content"></pre>

    <script>
        function loadFile() {
            const fileSelect = document.getElementById('file-list');
            const fileContentElement = document.getElementById('file-content');

            fileSelect.addEventListener('change', function () {
                const selectedFileURL = this.value;
                fetch(selectedFileURL)
                    .then(response => response.text())
                    .then(content => {
                        fileContentElement.textContent = content;
                    })
                    .catch(error => {
                        console.error('Error fetching the file:', error);
                    });
            });
        }
    </script>

    <!-- Load the list of text files from your Google Drive -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const CLIENT_ID = '182987479485-joln6piopnuabja2ug3nn3j50besvue7.apps.googleusercontent.com'; 
// Replace with your Google Drive API Client ID
            const FILE_QUERY = "name contains '/info'"; // Modify the query to match your file naming convention

            gapi.load('client', () => {
                gapi.client.init({
                    clientId: CLIENT_ID,
                    scope: 'https://www.googleapis.com/auth/drive.readonly'
                }).then(() => {
                    listFiles();
                });
            });

            function listFiles() {
                gapi.client.drive.files.list({
                    q: FILE_QUERY,
                    fields: "files(id, name)"
                }).then(response => {
                    const files = response.result.files;
                    const fileSelect = document.getElementById('file-list');

                    files.forEach((file, index) => {
                        const option = document.createElement('option');
                        option.value = `https://drive.google.com/uc?id=${file.id}`;
                        option.text = `File ${index + 1}: ${file.name}`;
                        fileSelect.appendChild(option);
                    });

                    loadFile();
                });
            }
        });
    </script>

    <!-- Load the Google API client -->
    <script src="https://apis.google.com/js/client.js?onload=loadDriveApi"></script>
</body>
</html>
